services:
  firebase_authentication.token_extractor:
    class: DanieleAmbrosino\FirebaseAuthenticationBundle\JWTExtractor
  
  firebase_authentication.public_key_fetcher:
    class: DanieleAmbrosino\FirebaseAuthenticationBundle\PublicKeyFetcher
    arguments:
      - '@cache.app'
      - '@http_client'
  
  firebase_authentication.jws_validator:
    class: DanieleAmbrosino\FirebaseAuthenticationBundle\RS256JWSValidator
    arguments:
      - '%firebase_authentication.project_id%'
  
  firebase_authentication.authenticator:
    class: DanieleAmbrosino\FirebaseAuthenticationBundle\Security\FirebaseAuthenticator
    arguments:
      - '@firebase_authentication.token_extractor'
      - '@firebase_authentication.public_key_fetcher'
      - '@firebase_authentication.jws_validator'
